{% extends "layout.html" %}
{% block head %}
	{{ super() }}
	<script src="{{ url_for('static', filename='js/color-thief.umd.js') }}" defer></script>
	<script src="{{ url_for('static', filename='js/app.js') }}" defer></script>
	<script>
        const key = "{{ session.key }}";
        const name = "{{ name }}";
	</script>
{% endblock %}
{% block content %}

	<div class="container text-center">
		<div class="manager col-lg-6 offset-lg-3 p-3">
			<!--TODO
			<div class="share-page">
				<button class="btn btn-sm">
					<i class="fa-solid fa-share-nodes"></i> Page link
				</button>
			</div>
			-->
			<h1><strong>{{ name }}</strong>'s palets</h1>
			{% if is_author %}
				<button id="bt-add-palet" type="button" class="btn">
					<i class="fa-solid fa-circle-plus"></i> add a Palet
				</button>
			{% endif %}
			<div id="palets">
				<!-- Here go palets -->
			</div>
			<!-- Modal -->
			<div class="modal fade"
				 id="paletModal"
				 tabindex="-1"
				 data-bs-backdrop="static"
				 role="dialog"
				 aria-labelledby="exampleModalLabel"
				 aria-hidden="true">
				<div class="modal-dialog">
					<div class="modal-content">
						<div class="modal-header">
							<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
						</div>
						<div class="modal-body">
							<h2>Add a palet</h2>
							<div class="palet edit">
								<div>
									<h5>Upload an image to generate a palet:</h5>
									<div class="upload btn-group">
										<input id="uploadedFile" type="file" class="form-control" />
										<img id="uploadedImage" src="" />
										<button id="bt-generate" type="submit" class="btn btn-sm">
											<i class="fa-solid fa-palette"></i> Generate
										</button>
									</div>
									<div class="colors">
										<div class="color1"></div>
										<div class="color2"></div>
										<div class="color3"></div>
										<div class="color4"></div>
										<div class="color5"></div>
									</div>
									<input id="input-title" class="mt-2" type="text" placeholder="Enter a title">
									<div class="buttons">
										<button id="bt-save" class="btn btn-sm">
											<i class="fa-regular fa-floppy-disk"></i> Save
										</button>
									</div>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div><!-- end modal -->
		</div><!-- end manager -->
	</div><!-- end container -->
{%  endblock %}
